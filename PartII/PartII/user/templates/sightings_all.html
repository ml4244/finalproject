{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
        <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
       <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
       <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    {% block js %}
        <script src="{% static 'js/FileSaver.min.js' %}"></script>
        <script src="{% static 'js/xlsx.core.min.js' %}"></script>

        <script src="{% static 'js/bootstrap-table.js' %}"></script>
        <script src="{% static 'js/bootstrap-table-zh-CN.js' %}"></script>

        <script src="{% static 'js/tableExport.js' %}"></script>
        <script src="{% static 'js/bootstrap-table-export.js' %}"></script>
        <script src="{% static 'js/echarts-4.2.1.js' %}" type="text/javascript"></script>
    {% endblock %}
    {% block css %}
        <link href="{% static 'css/bootstrap-table.css' %}" rel="stylesheet"/>
        <link href="{% static 'css/tableExport.css' %}" rel="stylesheet" />
    {% endblock %}
</head>

<body>
    <div class="container-fluid" >

        <div id="toolbar" class="btn-group">
            <button id="btn_add" type="button" class="btn btn-default">
                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>Add
            </button>
            <button id="btn_edit" type="button" class="btn btn-default">
                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>Modify
            </button>
            <button id="btn_delete" type="button" class="btn btn-default">
                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>Delete
            </button>
        </div>

        <div id="atable">
            <table id="table" class="table table-hover table-bordered" data-toggle="table" data-url="" >
            </table>
        </div>
        </div>
    </div>

    <script type="text/javascript">
      function initTable() {
          $('#table').bootstrapTable('destroy');
          $("#table").bootstrapTable({
            ajax: function ajaxReqDate(result) {
            //console.log(result);
            $.ajax({
                    type: "POST",
                    dataType: "json",
                    //contentType: "application/json;charset=utf-8",
                    url: "query_data" ,
                    data: "",
                    //data: JSON.stringify($("#SearchParma")),
                    success: function (msg) {
                        console.log(msg);
                        result.success({
                          row: msg
                        });
                        $('#table').bootstrapTable('load', msg);
                    },
                    error : function(msg) {
                        console.log(msg);
                        alert("connect failedÔºÅ");
                    }
                });

            },
            cache: true,
            striped: true,
            pagination: true,
            pageList: [5, 7, 10, 25, 50],
            pageSize: 10,
            pageNumber: 1,
            toolbar: '#toolbar',
            search: true,
            strictSearch: true,
            showRefresh: true,
            showExport: true,
            exportDataType: "all",
            showColumns: true,
            showToggle: false,
            cardView: false,
            detailView: false,
            searchOnEnterKey: true,
            sidePagination: 'client',
            uniqueId: "id",
            columns: [
              {
                  checkbox: true,
                  align: 'center'
              },{
                  sortable: true,
                  field: 'pk',
                  title: 'unique_squirrel_id',
                  align: 'center',
                  valign: 'middle',
                  {#formatter: actionFormatter,#}
              }, {
                  sortable: true,
                  field: 'fields.x',
                  title: 'Latitude',
                  align: 'center',
                  valign: 'middle'
              }, {
                  sortable: true,
                  field: 'fields.y',
                  title: 'Longitude',
                  align: 'center',
                  valign: 'middle'
              }, {
                  sortable: true,
                  field: 'fields.hectare',
                  title: 'hectare',
                  align: 'center',
                  valign: 'middle'
              }, {
                  sortable: true,
                  field: 'fields.shift',
                  title: 'shift',
                  align: 'center',
                  valign: 'middle'
              }, {
                  sortable: true,
                  field: 'fields.date',
                  title: 'date',
                  align: 'center',
                  valign: 'middle'
              }, {
                  sortable: true,
                  field: 'fields.hectare_squirrel_number',
                  title: 'hectare_squirrel_number',
                  align: 'center',
                  valign: 'middle'
              }, {
                  sortable: true,
                  field: 'fields.age',
                  title: 'age',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.primary_fur_color',
                  title: 'primary_fur_color',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.highlight_fur_color',
                  title: 'highlight_fur_color',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.combination_of_primary_and_highlight',
                  title: 'combination_of_primary_and_highlight',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.color_notes',
                  title: 'color_notes',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.location',
                  title: 'location',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.above_ground_sighter_measurement',
                  title: 'above_ground_sighter_measurement',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.specific_location',
                  title: 'specific_location',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.running',
                  title: 'running',
                  align: 'center',
                  valign: 'middle',
                  {#formatter: actionFormatter2,#}
              },{
                  sortable: true,
                  field: 'fields.chasing',
                  title: 'chasing',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.climbing',
                  title: 'climbing',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.eating',
                  title: 'eating',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.foraging',
                  title: 'foraging',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.other_activities',
                  title: 'other_activities',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.kuks',
                  title: 'kuks',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.quaas',
                  title: 'quaas',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.moans',
                  title: 'moans',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.tail_flags',
                  title: 'tail_flags',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.tail_twitches',
                  title: 'tail_twitches',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.approaches',
                  title: 'approaches',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.indifferent',
                  title: 'indifferent',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.runs_from',
                  title: 'runs_from',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.other_interactions',
                  title: 'other_interactions',
                  align: 'center',
                  valign: 'middle'
              },{
                  sortable: true,
                  field: 'fields.lat_long',
                  title: 'lat_long',
                  align: 'center',
                  valign: 'middle'
              }
            ],
            onLoadSuccess: function(){
                console.info("load success");
            },
            onLoadError: function(){
                console.info("load failed");
            }
          });
    }


    $(document).ready(function() {
      initTable();

      //$("#search").bind("click", queryData);

    });

    </script>
</body>
</html>